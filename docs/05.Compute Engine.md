# Compute Engine
## Compute Engine이란?
    Compute Engine은 GCP에서 제공하는 가상 머신 서비스로, AWS의 EC2에 해당하는 서비스입니다.
    Google Cloud Platform에서 가장 기본적이면서 많이 쓰이는 인프라로 네트워크에 연결된 가상 서버를 제공해주며, 전 세계에 위치한 데이터 센터들은 광섬유 네트워크로 연결이 되어 있기 때문에 단일 인스턴스에서 글로벌 부하 분산 클라우드 컴퓨팅으로 확장할 수도 있습니다.
- 다양한 인스턴스 구성 및 이미지 제공
- 임의로 인스턴스의 시스템 구성을 설정할 수 있는 커스텀 머신 유형 제공
- 최대 64TB의 영구 디스크 Repository를 HDD 또는 SSD 형태로 제공
- 지원 OS 이미지
  - 데비안(Debian)
  - CentOS
  - 우분투(Ubuntu)
  - 수세(SUSE)
  - 레드햇(Red Hat)
  - 윈도우 서버(Windows Server)
- 시스템 이벤트가 발생하더라도 VM 인스턴스가 계속 실행될 수 있게 해주는 라이브 이전 기능 제공
  - VM을 재부팅할 필요 없이 동일 영역에서 실행 중인 인스턴스를 또 다른 호스트로 라이브 이전 가능
- 선점형 VM은 GCP에서 유휴자원을 활용하여 매우 저렴한 가격
  - 대규모 컴퓨팅 및 일괄 작업이 필요한 경우 사용, 최대 24시간
- 다 벤더와 다르게 초 단위로 비용을 청구하고 등록 수수료나 선불 약정 없이 장기 실행 작업에 대해서 자동으로 할인 가격 제공
---
## VM 인스턴스
    리눅스 및 윈도우 서버용 공개 이미지 뿐만 아니라, 사용자가 만들거나 사용자의 기존 시스템에서 가져올 수 있는 비공개 커스텀 이미지도 실행할 수 있습니다.

- 각각의 인스턴스는 GCP 프로젝트에 속하며, 하나의 프로젝트는 여러 개의 인스턴스를 가질 수 있음
- 프로젝트에서 인스턴스를 만들 때 해당 인스턴스의 영역 운영체제 및 머신 유형 등을 지정 가능
- 인스턴스는 프로젝트에 포함되어 프로젝트를 삭제하면 여기에 속한 인스턴스도 함께 삭제됨
- 기본적으로 인스턴스는 운영체제가 포함된 작은 부팅 영구 디스크를 가지고 있으며, 더 많은 저장공간이 필요한 경우 Repository 옵션을 통해 저장공간 추가 가능
- 프로젝트에는 최대 5개의 VPC 네트워크를 가질 수 있음
- Compute Engine 인스턴스는 하나의 VPC 네트워크에 소속
- 동일한 네트워크 안에 위치한 인스턴스들은 로컬 영역 네트워크 프로토콜로 서로 통신
- 컨테이너를 사용하여 만들 수 있는 옵션을 지원
  - VM 또는 템플릿을 만들 때, 도커 이미지로 시작 가능
- `gcloud` 명령줄 도구 및 REST API 및 모바일 애플리케이션 이용하여 관리 가능

---
## 머신 유형
    머신 유형은 메모리, vCPU, 디스크 등을 포함하여 인스턴스에 제공할 수 있는 가상화된 하드웨어 리소스 모음을 지정합니다.
### 사전 정의된 머신 유형
|이름|설명|vCPU 개수|메모리(GB)|디스크 개수|최대 디스크 크기(TB)|
|---|---|---|---|---|---|
|n1-standard-1	|표준형|1 |3.75|16(베타는 32)|64|
|n1-standard-2	|표준형|2 |7.50|16(베타는 64)|64|
|n1-standard-4	|표준형|4 |15  |16(베타는 64)|64|
|n1-standard-8	|표준형|8 |30  |16(베타는 128)|64|
|n1-standard-16	|표준형|16|60  |16(베타는 128)|64|
|n1-standard-32	|표준형|32|120 |16(베타는 128)|64|
|n1-standard-64	|표준형|64|240 |16(베타는 128)|64|
|n1-standard-96	|표준형|96|360 |16(베타는 128)|64|
|n1-highmem-2	|고성능 메모리형|2 |13 |16(베타는 64)|64|
|n1-highmem-4	|고성능 메모리형|4 |26 |16(베타는 64)|64|
|n1-highmem-8	|고성능 메모리형|8 |52 |16(베타는 128)|64|
|n1-highmem-16	|고성능 메모리형|16|104|16(베타는 128)|64|
|n1-highmem-32	|고성능 메모리형|32|208|16(베타는 128)|64|
|n1-highmem-64	|고성능 메모리형|64|416|16(베타는 128)|64|
|n1-highmem-96	|고성능 메모리형|96|624|16(베타는 128)|64|
|n1-highcpu-2	|고성능 CPU형|2 |1.80|16(베타는 64)|64|
|n1-highcpu-4	|고성능 CPU형|4 |3.60|16(베타는 64)|64|
|n1-highcpu-8	|고성능 CPU형|8 |7.20|16(베타는 128)|64|
|n1-highcpu-16	|고성능 CPU형|16|14.4|16(베타는 128)|64|
|n1-highcpu-32	|고성능 CPU형|32|28.8|16(베타는 128)|64|
|n1-highcpu-64	|고성능 CPU형|64|57.6|16(베타는 128)|64|
|n1-highcpu-96	|고성능 CPU형|96|86.4|16(베타는 128)|64|
---
### 커스텀 머신 유형
  인스턴스 생성 시 사용할 vCPU 수와 메모리 용량 등 머신 유형을 설정 할 수 있습니다. 사전 정의된 머신 유형보다 비용이 약간 추가되며 선택 가능한 메모리 및 vCPU에 일부 제한이 있을 수 있습니다.

### CPU 플랫폼
  Compute Engine에서 VM 인스턴스가 사용할 수 있는 CPU 플랫폼 중 하나를 사용하게 됩니다. CPU 플랫폼을 지정하지 않으면, 기본적으로 설정되어있는 기본 플랫폼을 사용합니다.
- 2.0GHz Intel Xeon 확장 가능 프로세서(Skylake)
- 2.2GHz Intel Xeon E7(Broadwell E7)
- 2.2GHz Intel Xeon E5 v4(Broadwell E5)
- 2.3GHz Intel Xeon E5 v3(Haswell)
- 2.5GHz Intel Xeon E5 v2(Ivy Bridge)
- 2.6GHz Intel Xeon E5(Sandy Bridge)

### Compute Engine의 GPU
  Compute Engine에서는 VM에 추가할 수 있는 GPU를 제공합니다.
- 머신러닝 및 데이터 처리와 같은 특정 부하 작업에 효율을 가져올 수 있음
- 3D 시각화 및 3D 렌더링 같은 그래픽 집약적인 부하가 있는 경우 NVIDIA GRID 기술을 사용하는 가상 워크스테이션을 만들 수 있음

### 이미지
- 구글에서 제공하는 운영체제 이미지를 사용하여 부팅 디스크 생성
- 공개 이미지 :
  - 구글, 오픈소스 커뮤니티, 제3자 공급업체에서 제공 및 관리
  - 기본적으로 모든 프로젝트에서 공개 이미지로 인스턴스 생성 가능
  - 프리미엄 이미지의 경우 인스턴스에 추가 비용 발생
- 커스텀 이미지 :
  - 사용자의 프로젝트에서만 사용할 수 있는 이미지
  - 부팅 디스크 및 다른 이미지에서 커스텀 이미지 생성
  - 인스턴스 추가 비용이 발생하지 않으나, 커스텀 이미지를 유지하기 위한 이미지 저장 비용 발생

---

